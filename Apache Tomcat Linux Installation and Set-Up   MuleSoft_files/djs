(function(a){var d="%",b={checkPattern:function(f,g){if(g.indexOf(d)==0&&g.lastIndexOf(d)==g.length-1){g=g.substring(1,g.length-1);return f.indexOf(g)!=-1}else{if(g.indexOf(d)==0){g=g.substring(1,g.length);return f.lastIndexOf(g)==f.length-g.length}else{if(g.lastIndexOf(d)==g.length-1){g=g.substring(0,g.length-1);return f.indexOf(g)==0}else{return f==g}}}},validateParam:function(f){return(f!==undefined&&f!=null&&f!="null"&&f!="undefined"&&f!="")}},c={supports:function(){if(localStorage){return true}return false},store:function(f,g){localStorage[f]=g},getValue:function(f){return localStorage[f]},remove:function(f){localStorage.removeItem(f)}};a.ITLocalStorageAPI=c;a.InsighteraUtil=b})(window);var AITag=new function(){var cdnSrc=null;var config={"enableYoutubeApi":true,"googleAnalytics":true,"sCatSgmEvNum":21,"trackAsset":false,"sCatEnableCampaignPush":false,"enableTag":true,"jQueryUIDialogPath":"/jquery-ui-1.8.17-dialog.js","dialogCloseButton":"/dialog-close.png","sCatSgmIndNum":21,"jQueryVersion":"1.8.3","sCatCtaIndNum":23,"background_color":"#1A95CE","gaIndustrySlot":1,"jqueryUrl":"ajax.googleapis.com/ajax/libs/jquery/VERSION/jquery.min.js","youTubeApiUrl":"www.youtube.com/player_api","link_color":"white","arrowLeftPath":"/black_01.png","loadOnlyJQueryDialog":false,"sCatEnableSegmentPush":false,"startup":true,"enableSiteCatalyst":false,"captureLeads":true,"cdnSrcSSL":"https://42f2433b18538895fc41-dcf1c515f0be6b969f2cc5ae37271723.ssl.cf2.rackcdn.com","jqueryUiCssExistsOnPage":false,"sCatIndVarNum":20,"timeoutDelay":3,"gaEnableCampaignPush":false,"sCatEnableVisitorOrganization":false,"gaOrganizationSlot":2,"ignoreUrlParams":true,"font_color":"black","requiredCssPath":"/insightera-1.1.css","getAllEmails":true,"gwUrlPrefix":"cloud3.insightera.com/gw1","pollingDelay":2,"sCatOrgVarNum":21,"sCatCtaEvNum":20,"cdnSrc":"http://90d53a0d90598f9cf3a5-dcf1c515f0be6b969f2cc5ae37271723.r87.cf2.rackcdn.com","arrowRightPath":"/black_02.png","font_size":"12px","pollingPerPage":1,"bar_position":"bottom","debug":false,"jQueryUIVersion":"1.9.2","useExistingJQuery":false,"font_family":"arial","gaEnableOrganizationtPush":false,"sCatEnableVisitorIndustry":false,"dialogCloseTime":30,"disableClick":false,"gaEnableVisitorIndustry":false,"initialDelay":50,"bar_tab_position":"right","sCatCtaOrgNum":22,"jqueryUIUrl":"ajax.googleapis.com/ajax/libs/jqueryui/VERSION/jquery-ui.min.js","jQueryUICustomCssPath":"/jquery-ui-insightera-custom-1.5.css","enableRecommendationBar":false,"sCatSgmOrgNum":20,"disablePoll":false,"loadJquery":true,"gaEnableSegmentPush":false};var exp_2_year=new Date();var exp_30_minutes=new Date();exp_2_year.setTime(exp_2_year.getTime()+(730*24*60*60*1000));exp_30_minutes.setTime(exp_30_minutes.getTime()+(30*60*1000));var sessionId=null;var sessionExpireId=null;var isDialogPresented=false;var second=1000;var newVisitor=false;var newSession=false;var COOKIE_TRW_SESSION_ID="trwsa.sid";var COOKIE_TRW_SEARCH_TERMS="trwsb.stu";var COOKIE_TRW_CLICK_PER_VISIT="trwsb.cpv";var COOKIE_TRW_CREATION_DATE="trwv.crd";var COOKIE_TRW_COUNT="trwv.vc";var COOKIE_TRW_LAST_VISIT="trwv.lvd";var COOKIE_TRW_EMAIL="trwv.eml";var COOKIE_TRW_VISITOR_UID="trwv.uid";var COOKIE_TRW_IE_EMAIL="_ie_eml";var COOKIE_TRW_IE_CPN="_ie_cpn";var COOKIE_TRW_SESSION_ID_EXPIRE="trwsb.sid";var COOKIE_TRW_CURRENT_VISIT="trwv.cvd";var ESP_COOKIES_ARR=[COOKIE_TRW_SESSION_ID,COOKIE_TRW_EMAIL,COOKIE_TRW_VISITOR_UID];var unusedCookies=[COOKIE_TRW_SEARCH_TERMS,COOKIE_TRW_CLICK_PER_VISIT,COOKIE_TRW_CREATION_DATE,COOKIE_TRW_COUNT,COOKIE_TRW_LAST_VISIT,COOKIE_TRW_IE_EMAIL,COOKIE_TRW_IE_CPN,COOKIE_TRW_CURRENT_VISIT,COOKIE_TRW_SESSION_ID_EXPIRE];var COOKIE_TRW_LOG="trw1.LOG";var COOKIE_MARKETO_TOKEN="_mkto_trk";var SESSION_ID_CLICKS_SEPERATOR="$$$###";var COOKIE_VAL_SEPERATOR=":";var IMPRESSION_SUFFIX=":0";var CONVERSION_SUFFIX=":1";var MA_TYPE_MARKETO="1";var MA_TYPE_NONE="0";var VISITOR_UUID="REPLACE_VUUID";var SESSION_UUID="REPLACE_SUUID";var VISITOR_IP="REPLACE_IP";var POSITION_TOP="50";var widgetSide="";var PDF=".pdf";var PPT=".ppt";var PPTX=".pptx";var HTML5_VIDEO_MP4=".mp4";var HTML5_VIDEO_OGG=".ogg";var HTML5_VIDEO_WEBM=".webm";var ASSETS_SUFFIX_ARR=[PDF,PPT,PPTX,HTML5_VIDEO_MP4,HTML5_VIDEO_OGG,HTML5_VIDEO_WEBM];var TARGET_VAL=["_self","_parent","_top"];var PLAYERS=["youtube","wistia","vimeo"];var WISTIA_API_SRC="fast.wistia.net/static/iframe-api-v1.js";var VIMEO_API_SRC="/froogaloop.js";var playersData={players:{},playerIds:[],lastCount:0};var VIMEO_PLAYER_ID="player_id";var EMAIL_REG=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;var BAR_CDN_PATH="/insightera-bar-1.3.js";var GA_CDN_PATH="/ga-integration-1.7.js";var fontsCss="netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css";var domainLevel=null;var localStorageApi=ITLocalStorageAPI;window.iiq=window.iiq||[];window.ibq=window.ibq||[];var cpq=[];var campaignLinks={};var assetLinks={};var eventFirstClick=false;var getInternetExplorerVersion=function(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}}else{if(navigator.appName=="Netscape"){var ua=navigator.userAgent;var re=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}}}return rv};var checkIESupported=function(){var version=getInternetExplorerVersion();if(version>-1&&version<8){return false}else{if(version>7){if(document.documentMode&&document.documentMode<8){return false}}}return true};var campaignStorage=new function(){var STORAGENAME="it.cs",DIALOG="dialog",WIDGET="widget",SESSION_ID="sid",_this=this;trackObj=null,isCurrentSession=function(campaigns){if(campaigns[SESSION_ID]!==getSessionId()){return false}return true};this.init=function(){trackObj=window.AITag||null};this.getStoredCampaigns=function(){var campaigns=null;if(localStorageApi.supports()){campaigns=localStorageApi.getValue(STORAGENAME);if(campaigns!==undefined&&campaigns!=null){campaigns=JSON.parse(campaigns)}}return campaigns};this.showStoredCampaigns=function(){if(localStorageApi.supports()){var campaigns=_this.getStoredCampaigns();if(campaigns!==undefined&&campaigns!=null&&isCurrentSession(campaigns)){for(var campaign in campaigns){if(campaigns.hasOwnProperty(campaign)&&campaign!=SESSION_ID){try{trackObj.msgCallback(campaigns[campaign][0],campaigns[campaign][1],false)}catch(e){}}}}else{localStorageApi.remove(STORAGENAME)}}};this.storeCampaign=function(campaignMsg,requestId){if(localStorageApi.supports()){var campaigns=this.getStoredCampaigns();if(campaigns===undefined||campaigns==null){campaigns={}}else{if(!isCurrentSession(campaigns)){campaigns={}}}campaigns[SESSION_ID]=getSessionId();if(campaignMsg.targetDiv){campaigns[campaignMsg.targetDiv]=[campaignMsg,requestId]}else{campaigns[DIALOG]=[campaignMsg,requestId]}localStorageApi.store(STORAGENAME,JSON.stringify(campaigns))}};this.exc=function(params){try{var method=params.shift();_this[method].apply(_this,params)}catch(e){console.log(e)}}};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function consoleMessage(message){if(console&&console.log){console.log(message)}}function createCORSRequest(method,url){var xhr=new XMLHttpRequest();if("withCredentials" in xhr){try{xhr.open(method,url,true)}catch(e){consoleMessage(e)}}else{if(typeof XDomainRequest!="undefined"){xhr=new XDomainRequest();xhr.open(method,url)}else{xhr=null}}return xhr}function makeCorsRequest(url,handler){if(url===undefined||url==null||url==""){return}if(url.indexOf("http")!=0&&url.indexOf("https")!=0){url=AITag.getConfig("protocol")+"://"+url}var xhr=createCORSRequest("GET",url);if(!xhr){consoleMessage("CORS not supported");return}xhr.onload=function(){var text=xhr.responseText;var response=JSON.parse(text);if(response.status==200){if(typeof handler=="function"){handler(response)}}else{consoleMessage(response.errorMessage)}};xhr.onerror=function(){};xhr.send()}this.activateRecommendation=function(){if(this.getConfig("enableRecommendationBar")){var expression=this.getConfig("excludedUrlsRecommendation");var match=true;var condition="";if(expression!==undefined){var url=window.location.pathname;condition=expression.substring(0,expression.indexOf("[")-1).trim();var excludeUrls=expression.substring(expression.indexOf("["));excludeUrls=eval(excludeUrls);for(var index=0;index<excludeUrls.length;index++){match=InsighteraUtil.checkPattern(url,excludeUrls[index]);if(condition=="in"&&match){break}if(match){this.setConfig("enableRecommendationBar",false);return}}}if(condition=="in"&&!match){this.setConfig("enableRecommendationBar",false);return}this.addDynamicScript(cdnSrc+BAR_CDN_PATH,function(){})}};this.eventCallback=function(response){};this.updateInitialConfig=function(){if(!window.AIConfig){window.AIConfig={}}campaignStorage.init();this.setDefaultConfig("protocol",(("https:"==document.location.protocol)?"https":"http"));cdnSrc=(AITag.getConfig("protocol")=="http")?this.getConfig("cdnSrc"):this.getConfig("cdnSrcSSL");var jQueryUrl=this.getConfig("jqueryUrl");jQueryUrl=jQueryUrl.replace("VERSION",this.getConfig("jQueryVersion"));var jQueryUIUrl=this.getConfig("jqueryUIUrl");jQueryUIUrl=jQueryUIUrl.replace("VERSION",this.getConfig("jQueryUIVersion"));this.setConfig("jqueryUrl",jQueryUrl);this.setConfig("jqueryUIUrl",jQueryUIUrl);this.setConfig("moderntrim2CloseButton","/modern-trim-II-close.png");this.setConfig("dialogTransparentButton","/trans_x.png");var mktoTrk=this.getCookie(COOKIE_MARKETO_TOKEN);if(mktoTrk!=null){this.setDefaultConfig("ma",MA_TYPE_MARKETO)}else{this.setDefaultConfig("ma",MA_TYPE_NONE)}};var getDomain=function(domain,domainLevel){if(domainLevel!=null&&domainLevel===parseInt(domainLevel)){for(var splitedDomain=domain.split(".");splitedDomain.length>domainLevel&&splitedDomain.length>2;){splitedDomain.shift()}return splitedDomain.join(".")}splitedDomain=/([^.]+\.[^.]{3,})$/i.exec(domain);return splitedDomain!=null?splitedDomain[1]:(splitedDomain=/([^.]+\.[^.]+\.[^.]{2})$/i.exec(domain),splitedDomain!=null?splitedDomain[1]:domain)};var bindMessageEvent=function(){var handler=function(event){if(event.origin!=="http://localhost:8080"){return}AITag.foundEmail(event.data)};AITag.addEvent("message",window,handler)};this.extractURLParameter=function(name){return decodeURIComponent((new RegExp("[?|&]"+name+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null};this.checkExcludeUrls=function(){var excludeUrls=this.getConfig("excludeUrls");if(excludeUrls!==undefined){var ignoreUrlParams=this.getConfig("ignoreUrlParams");if(typeof ignoreUrlParams=="undefined"){ignoreUrlParams=true}var url=window.location.pathname;if(!ignoreUrlParams){url+=window.location.search}for(var index=0;index<excludeUrls.length;index++){if(InsighteraUtil.checkPattern(url,excludeUrls[index])){return true}}}return false};this.checkExcludeIps=function(){var excludeIps=this.getConfig("excludeIps");if(typeof excludeIps!="undefined"&&excludeIps!=null&&excludeIps.length>0&&VISITOR_IP!="REPLACE_IP"){for(index in excludeIps){if(VISITOR_IP==excludeIps[index]){return true}}}return false};this.hex2rgb=function(hex,opacity){var rgb=hex.replace("#","").match(/(.{2})/g);var i=3;while(i--){rgb[i]=parseInt(rgb[i],16)}if(typeof opacity=="undefined"){return"rgb("+rgb.join(", ")+")"}return"rgba("+rgb.join(", ")+", "+opacity+")"};this.rgb2hex=function(rgb){var hex;var hexString="",hexWord="";var i=0;if(rgb.indexOf("rgba")==-1){hex=rgb.replace("rgb(","");hex=hex.replace(")","").replace(" ","").split(",")}else{hex=rgb.replace("rgba(","").replace(")","").replace(" ","").split(",")}if(hex.length==3){hexString+="#ff"}else{hexString+="#"+Math.floor(hex[3]*255).toString(16)}while(i<3){hexWord=(hex[i]*1).toString(16);hexWord=hexWord.length==1?"0"+hexWord:hexWord;hexString+=hexWord;i++}return hexString};this.addEvent=function(evnt,elem,func){if(elem.addEventListener){elem.addEventListener(evnt,func,true)}else{if(elem.attachEvent){elem.attachEvent("on"+evnt,func)}else{elem[evnt]=func}}};this.addScriptInHeader=function(scriptContent){var script=document.createElement("script");script.type="text/javascript";try{script.innerHTML=scriptContent}catch(e){script.text=scriptContent}var head=document.getElementsByTagName("head")[0];head.insertBefore(script,head.firstChild)};this.onPlayerStateChange=function(e){e=e||window.event;var targetElement=e.target||e.srcElement;var player=playersData.players.youtube[targetElement.a.id];if(e.data==1&&typeof player.sendVideoAsset=="undefined"){AITag.sendClick(targetElement.a.src,null,"yt",1);playersData.players.youtube[targetElement.a.id].sendVideoAsset=1}};this.onYoutubeReady=function(){e=e||window.event;var targetElement=e.target||e.srcElement;var player=playersData.players.youtube[targetElement.a.id];player.addEventListener("onStateChange",AITag.onPlayerStateChange())};var discoverRecommendation=function(href){var paramsIndex=href.indexOf("?");if(paramsIndex!=-1){var parameters=href.substring(paramsIndex);if(parameters.indexOf("iesrc=rcmd")!=-1||href.indexOf("youtube")!=-1){AITag.sendClick(encodeURIComponent(href),null,"yt",1)}}};var getPalyerId=function(iframe,count){var iframeId;if(typeof iframe.id!="undefined"&&iframe.id!=null&&iframe.id!=""){iframeId=iframe.id}else{iframe.id="player"+count;iframeId="player"+count}return iframeId};this.addPlayer=function(type,player,id,src){players=playersData.players[type];if(players===undefined){players={}}var iplayer={};iplayer.player=player;iplayer.src=src;players[id]=iplayer;playersData.players[type]=players};var createVimeoEventListener=function(iframe,type){(function(iframe,type,src){var player=$f(iframe);AITag.addPlayer(type,player,iframe.id,src);player.addEvent("ready",function(){var players=playersData.players.vimeo;for(var id in players){(function(player,src){if(player.element.contentWindow!=null){player.addEvent("play",function(player,src){return function(){AITag.sendClick(src,null,"yt",1);player.removeEvent("play")}}(player,src))}})(players[id].player,players[id].src)}})})(iframe,type,iframe.src)};var bindPlayerEvent=function(type,iframe,count,src){iframeId=getPalyerId(iframe,count);var players;switch(type){case"youtube":try{(function(type,iframeId){if(src.indexOf("?")!=-1&&src.indexOf("enablejsapi=1")==-1){iframe.src+="&enablejsapi=1"}else{if(src.indexOf("api=1")==-1){iframe.src+="?enablejsapi=1"}}var player=new YT.Player(iframeId,{events:{onStateChange:AITag.onPlayerStateChange}});AITag.addPlayer(type,player,iframeId)})(type,iframeId)}catch(e){AITag.addScriptInHeader("function onYouTubeIframeAPIReady(){player"+count+" = new YT.Player('"+iframeId+"', {events: {'onStateChange': AITag.onPlayerStateChange}}); AITag.addPlayer(type, player"+count+", "+iframeId+");}")}break;case"wistia":(function(type,iframeId,src){var wistiaEmbed=document.getElementById(iframeId).wistiaApi;if(wistiaEmbed){wistiaEmbed.bind("play",function(src){return function(){AITag.sendClick(src,null,"yt",1);return this.unbind}}(src))}AITag.addPlayer(type,wistiaEmbed,iframeId)})(type,iframeId,src);break;case"vimeo":if(window.$f!==undefined){if(src.indexOf("?")!=-1&&src.indexOf("api=1")==-1){iframe.src+="&api=1"}else{if(src.indexOf("api=1")==-1){iframe.src+="?api=1"}}if(src.indexOf(VIMEO_PLAYER_ID)==-1){iframe.src+="&"+VIMEO_PLAYER_ID+"="+iframeId}else{var startIndex=src.indexOf(VIMEO_PLAYER_ID)+VIMEO_PLAYER_ID.length;var endIndex=src.indexOf("&",startIndex);if(endIndex==-1){endIndex=src.length}var replace=src.substring(startIndex,endIndex);iframe.src.replace(replace,"="+iframeId)}createVimeoEventListener(iframe,type)}break}playersData.playerIds.push(src);count++;playersData.lastCount=count;return count};var addPlayersListerners=function(){var iframes=document.getElementsByTagName("iframe");var iframeId="",count=1,src;for(var i=0;i<iframes.length;i++){src=iframes[i].src;if(src.indexOf("youtube")!=-1){count=bindPlayerEvent("youtube",iframes[i],count,src)}else{if(src.indexOf("wistia")!=-1){count=bindPlayerEvent("wistia",iframes[i],count,src)}else{if(src.indexOf("player.vimeo.com")!=-1){count=bindPlayerEvent("vimeo",iframes[i],count,src)}}}}};var addPlayersApis=function(){if(((typeof window.jQuery!="undefined"&&typeof window.jQuery.tubeplayer=="undefined")||typeof window.jQuery=="undefined")&&AITag.getConfig("enableYoutubeApi")){AITag.addDynamicScript(AITag.getConfig("youTubeApiUrl"))}AITag.addDynamicScript(cdnSrc+VIMEO_API_SRC);AITag.addDynamicScript(WISTIA_API_SRC,function(){addPlayersListerners()},true)};var createEvent=function(eventName,target){var event;if(document.createEvent){event=document.createEvent("MouseEvents");event.initMouseEvent(eventName,target.bubbles,target.cancelable,target.view,target.detail,target.screenX,target.screenY,target.clientX,target.clientY,target.ctrlKey,target.altKey,target.shiftKey,target.metaKey,target.button,target.relatedTarget)}else{if(document.createEventObject){event=document.createEventObject();event.eventType=eventName}}event.eventName=eventName;return event};var dispatchEvent=function(el,event){var eventName=event.eventName;if(el.dispatchEvent){el.dispatchEvent(event)}else{if(el.fireEvent&&window.htmlEvents&&window.htmlEvents["on"+eventName]){el.fireEvent("on"+event.eventType,event)}else{window.open(el.href,(typeof el.target=="undefined"||el.target==null||el.target=="")?"_self":el.target)}}};var addEventReport=function(target,e){return function(){if(e.assetClicked===undefined){e.assetClicked=true;dispatchEvent(target,e)}}};var checkIfAssetLink=function(targetElement,e){var href=targetElement.href;if(assetLinks[href]&&assetLinks[href]==1){return}var path=targetElement.pathname;var target=targetElement.target;if(typeof target=="undefined"||target==null||target==""){target="_self"}if(typeof href!="undefined"&&href!=null&&typeof path!="undefined"&&path!=null){for(var i=0;i<ASSETS_SUFFIX_ARR.length;i++){var lastIndex=path.lastIndexOf(ASSETS_SUFFIX_ARR[i]);if(lastIndex!=-1&&(lastIndex+ASSETS_SUFFIX_ARR[i].length)==path.length){var assetlink=campaignLinks[href];if(TARGET_VAL.indexOf(target)!=-1&&!assetlink){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}assetLinks[href]=1;var event=createEvent("click",e);event=addEventReport(targetElement,event);AITag.setConfig("disableClick",false);AITag.sendClick(encodeURIComponent(href),function(){if(TARGET_VAL.indexOf(target)!=-1&&!campaignLinks[href]){AITag.setConfig("disableClick",true);event()}});return}}for(var i=0;i<PLAYERS.length;i++){if(href.indexOf(PLAYERS[i])!=-1){setTimeout(function(){addPlayersListerners()},800);break}}}discoverRecommendation(href)};this.addAssetCollector=function(){if(this.getConfig("trackAsset")){AITag.addEvent("click",document,function(e){if((AITag.lastEvent&&(new Date).getTime()-AITag.lastEvent<100)||e.assetClicked||e._mchInRepost){return true}AITag.lastEvent=(new Date).getTime();e=e||window.event;var targetElement=e.target||e.srcElement;var parent=AITag.jQuery(targetElement).parents("a");if(targetElement.tagName=="A"){checkIfAssetLink(targetElement,e)}else{if(parent.get(0)){var parentEl=parent.get(0);if(parentEl.tagName=="A"){checkIfAssetLink(parentEl,e)}}}if(targetElement.tagName=="VIDEO"){AITag.sendAssetClick(function(){var src="";src=targetElement.src;if(src==null||src==""){var children=targetElement.children;for(var i=0;i<children.length;i++){src=children[i].src;if(typeof src!="undefined"&&src!=""){break}}}AITag.sendClick(src)})}});try{addPlayersApis()}catch(e){console.log(e)}}};this.sendAssetClick=function(func){func.apply(AITag)};this.setConfig=function(key,val){config[key]=val};this.setDefaultConfig=function(key,val){if(typeof config[key]==="undefined"){this.setConfig(key,val)}};this.escapePercent=function(text){if(text!=null&&typeof text!="undefined"&&text.substring){text=text.replace(/\%/,"%25")}return escape(text)};this.getConfig=function(key){var confItem=null;if(typeof config!="undefined"){confItem=config[key]}if(typeof confItem=="undefined"||confItem==null){confItem=window.AIConfig[key]}return confItem};this.getTRWCookiesQueryString=function(){var pairs=document.cookie.split(";");var queryString="";for(var i=0;i<pairs.length;i++){var nameValue=pairs[i].split("=");if(nameValue.length>0){if(ESP_COOKIES_ARR.indexOf(nameValue[0].trim())>-1){if(pairs[i].indexOf(COOKIE)){if(pairs[i].indexOf(COOKIE_TRW_CLICK_PER_VISIT)!=-1){pairs[i]=getClicksPerVisitFromCookie(pairs[i])}else{if(pairs[i].indexOf(COOKIE_TRW_EMAIL)!=-1){AITag.deleteCookie(COOKIE_TRW_EMAIL)}}}if(InsighteraUtil.validateParam(nameValue[1].trim())){queryString+=("&"+pairs[i].trim())}}}}return queryString};var getCookieDataArray=function(cookieName){var val=AITag.getCookie(cookieName);if(val!=null){val=val.split(COOKIE_VAL_SEPERATOR)}return val},getVisitorId=function(){var visitorId=null;var visitorArr=getCookieDataArray(COOKIE_TRW_VISITOR_UID);if(visitorArr!=null&&visitorArr.length>0){visitorId=visitorArr[0]}return visitorId},getVisitorIdParam=function(){var visitorId=getVisitorId();if(visitorId!=null){return COOKIE_TRW_VISITOR_UID+"="+visitorId}return""},getVisitCount=function(){var vc=null;var visitorArr=getCookieDataArray(COOKIE_TRW_VISITOR_UID);if(visitorArr!=null&&visitorArr.length>1){vc=parseInt(visitorArr[1]);if(isNaN(vc)){return null}}return vc},getVCParam=function(){var vc=getVisitCount();if(vc!=null){return COOKIE_TRW_COUNT+"="+vc}return""},getKnown=function(){var visitorArr=getCookieDataArray(COOKIE_TRW_VISITOR_UID);if(visitorArr!=null&&visitorArr.length>2){if(parseInt(visitorArr[2])==1){return 1}}return 0},getKnownParam=function(){var known=getKnown();if(known==1){return COOKIE_TRW_IE_EMAIL+"="+known}return""};getSessionId=function(){var sessionId=null;var sessionArr=getCookieDataArray(COOKIE_TRW_SESSION_ID);if(sessionArr!=null&&sessionArr.length>0){sessionId=sessionArr[0]}return sessionId},getSessionIdParam=function(){var sessionId=this.getSessionId();if(sessionId!=null){return COOKIE_TRW_SESSION_ID+"="+sessionId}return""},getClickPerVisit=function(){var cpv=null;var sessionArr=getCookieDataArray(COOKIE_TRW_SESSION_ID);if(sessionArr!=null&&sessionArr.length>1){cpv=parseInt(sessionArr[1]);if(isNaN(cpv)){return null}}return cpv},getCPVParam=function(){var cpv=getClickPerVisit();if(cpv!=null){return COOKIE_TRW_CLICK_PER_VISIT+"="+cpv}return""};var getEmail=function(){var email=AITag.getCookie(COOKIE_TRW_EMAIL);AITag.deleteCookie(COOKIE_TRW_EMAIL);return email},getEmailParam=function(){var email=getEmail();if(email!=null){return COOKIE_TRW_EMAIL+"="+email}return""};var getClicksPerVisitFromCookie=function(cookie){var cookieVal=cookie.substring(COOKIE_TRW_CLICK_PER_VISIT.length+1,cookie.length);var tmpArr=cookieVal.split(encodeURIComponent(SESSION_ID_CLICKS_SEPERATOR));return COOKIE_TRW_CLICK_PER_VISIT+"="+tmpArr[1]};this.getCookie=function(name){var cookieVal=null,cookies=document.cookie.split(";");var cookieRegex=RegExp("^\\s*"+name+"=\\s*(.*?)\\s*$");for(var index=0;index<cookies.length;index++){var matches=cookies[index].match(cookieRegex);if(matches&&matches[1]){cookieVal=decodeURIComponent(matches[1]);break}}return cookieVal};this.log=function(line){if(AITag.getConfig("debug")){var lineKey;do{AITag.log.counter++;lineKey=COOKIE_TRW_LOG+"."+(AITag.log.counter<10?"0":"")+AITag.log.counter.toString()}while(AITag.getCookie(lineKey));AITag.setCookie(lineKey,line)}};this.log.counter=-1;this.setCookie=function(name,value,expires,path,secure){var domain=getDomain(window.location.hostname,domainLevel);if(domain=="localhost"){domain=null}document.cookie=name+"="+encodeURIComponent(value)+((expires==null)?"":("; expires="+expires.toGMTString()))+"; path="+((path==null)?"/":path)+((domain==null)?"":("; domain="+domain))+((secure==true)?"; secure":"")};this.deleteCookie=function(name,path,domain,secure){var domain=getDomain(window.location.hostname,domainLevel);if(domain=="localhost"){domain=null}var exp=new Date();exp.setTime(exp.getTime()-1);var cval=this.getCookie(name);document.cookie=name+"="+cval+"; expires="+exp.toGMTString()+"; path="+((path==null)?"/":path)+((domain==null)?"":("; domain="+domain))+((secure==true)?"; secure":"")};this.getCookieVal=function(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1){endstr=document.cookie.length}return unescape(document.cookie.substring(offset,endstr))};this.createUUID=function(){var s=[],i=0,letters="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";while(i<30){s[i++]=letters.charAt(Math.floor(AITag.random()*letters.length))}return s.join("")};this.random=(function(){var g=Array.prototype.slice.call(arguments),l=0,k=0,j=0,h=1,e=4022871197,f=0,b=function(n){n=n.toString();var c=0,m=0;for(c=0;c<n.length;c++){e+=n.charCodeAt(c);m=0.02519603282416938*e;e=m>>>0;m-=e;m*=e;e=m>>>0;m-=e;e+=m*4294967296}return(e>>>0)*2.3283064365386963e-10},d=function(){var c=2091639*l+h*2.3283064365386963e-10;l=k;k=j;return j=c-(h=c|0)};if(g.length==0){g=[+new Date]}l=b(" ");k=b(" ");j=b(" ");for(f=0;f<g.length;f++){l-=b(g[f]);if(l<0){l+=1}k-=b(g[f]);if(k<0){k+=1}j-=b(g[f]);if(j<0){j+=1}}e=4022871197;d.uint32=function(){return d()*4294967296};d.fract53=function(){return d()+(d()*2097152|0)*1.1102230246251565e-16};d.version="Alea 0.9";d.args=g;return d})();this.createUUID_deprecated=function(){var s=[];var hexDigits="0123456789ABCDEF";for(var i=0;i<32;i++){s[i]=hexDigits.substr(Math.floor(Math.random()*16),1)}s[12]="4";s[16]=hexDigits.substr((s[16]&3)|8,1);var uuid=s.join("");return uuid};this.addDynamicScript=function(src,callback,appendToBody){var destination;if(appendToBody){destination=document.getElementsByTagName("body")[0]}else{destination=document.getElementsByTagName("head")[0]||document.documentElement}var scriptTimeout=null;var newScript=document.createElement("script");newScript.type="text/javascript";if(src.indexOf("http")!=0&&src.indexOf("https")!=0){src=AITag.getConfig("protocol")+"://"+src}newScript.src=src;newScript.onload=newScript.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){AITag.log("callback in addDynamicScript("+src+")");newScript.onload=newScript.onreadystatechange=null;clearTimeout(scriptTimeout);scriptTimeout=null;if(typeof callback==="function"){callback.apply(AITag)}if(destination&&newScript.parentNode){destination.removeChild(newScript)}}};try{scriptTimeout=setTimeout(function(){if(typeof callback==="function"){callback.apply(AITag)}},AITag.getConfig("timeoutDelay")*second)}catch(e){}if(appendToBody){destination.appendChild(newScript)}else{destination.insertBefore(newScript,destination.firstChild)}};this.addDynamicJavaScript=function(scriptContent){var script=document.createElement("script");script.type="text/javascript";try{script.innerHTML=scriptContent}catch(e){script.text=scriptContent}document.body.appendChild(script)};this.addDynamicStyle=function(src){var headID=document.getElementsByTagName("head")[0];var newStyle=document.createElement("link");if(src.indexOf("http")==-1&&src.indexOf("https")==-1){src=AITag.getConfig("protocol")+"://"+src}newStyle.type="text/css";newStyle.href=src;newStyle.rel="stylesheet";headID.appendChild(newStyle)};var addDynamicDiv=function(title,html){var newDiv=document.getElementById("trwDialog");if(!newDiv){newDiv=document.createElement("div");newDiv.setAttribute("id","trwDialog");document.body.appendChild(newDiv)}return AITag.jQuery(newDiv)};this.getStartIndxSearchQuery=function(){var start=-1;var ref=document.referrer;if(ref.search(/google\.*/i)!=-1||ref.search(/altavista\.*/i)!=-1||ref.search(/aol\.*/i)!=-1||ref.search(/alltheweb\.*/i)!=-1||ref.search(/ask\.*/i)!=-1||ref.search(/bing\.*/i)!=-1||ref.search(/walla\.*/i)!=-1){start=ref.search(/q=/)}else{if(ref.search(/yahoo\.*/i)!=-1){start=ref.search(/p=/)}else{if(ref.search(/lycos\.*/i)!=-1){start=ref.search(/query=/)}else{if(ref.search(/dogpile\.*/i)!=-1){start=ref.search(/\/search\/web\/=/)}else{if(ref.search(/dmoz\.*/i)!=-1){start=ref.search(/search=/)}}}}}return start};this.getSearchTerms=function(){var ref=document.referrer;var searchTerms=null;if(ref&&ref!=""){var start=this.getStartIndxSearchQuery();if(start!=-1){searchTerms=ref.substring(start+2);var end=searchTerms.search(/&/);end=(end==-1)?searchTerms.length:end;searchTerms=searchTerms.substring(0,end);if(searchTerms.length!=0){searchTerms=searchTerms.replace(/\+/g," ");searchTerms=unescape(searchTerms)}}}return searchTerms};function random(){return"xxxxxxxx".replace(/[x]/g,function(c){var r=Math.random()*16|0;return r.toString(16)})}function generateUUID(){var prefix=AITag.getConfig("accountId");if(prefix){prefix=prefix.replace(".","-")}return prefix+"-"+(new Date).getTime()+"-"+random()}this.createSessionId=function(isEvent){if(this.isNewSession()){newSession=true;sessionId=generateUUID()}var sessionArr=addCPV.call(this,sessionId,isEvent);this.deleteCookie(COOKIE_TRW_SESSION_ID);this.setCookie(COOKIE_TRW_SESSION_ID,sessionArr[0]+COOKIE_VAL_SEPERATOR+sessionArr[1],exp_30_minutes)};this.isNewSession=function(){sessionId=this.getCookie(COOKIE_TRW_SESSION_ID);return(sessionId==null)};var addCPV=function(sessionId,isEvent){var sessionArr=sessionId.split(COOKIE_VAL_SEPERATOR);if(sessionArr.length>1){sessionArr[1]=parseInt(sessionArr[1]);if(!isEvent&&!eventFirstClick){sessionArr[1]+=1}}else{var count=this.getCookie(COOKIE_TRW_CLICK_PER_VISIT);if(count!=null){var splitCount=count.split(SESSION_ID_CLICKS_SEPERATOR);var newCount=parseInt(splitCount[1])+1;sessionArr[1]=newCount}else{sessionArr[1]=1}}if(isNaN(sessionArr[1])){sessionArr[1]="1"}if(isEvent&&!eventFirstClick){eventFirstClick=true}else{eventFirstClick=false}return sessionArr};var addVC=function(visitorId){var visitorArr=visitorId.split(COOKIE_VAL_SEPERATOR);if(visitorArr.length>1){if(this.isNewSession()){visitorArr[1]=parseInt(visitorArr[1])+1}}else{var count=this.getCookie(COOKIE_TRW_COUNT);if(count!=null){visitorArr[1]=parseInt(count);if(this.isNewSession()){visitorArr[1]=parseInt(visitorArr[1])+1}}else{visitorArr[1]=1}}if(isNaN(visitorArr[1])){visitorArr[1]="1"}return visitorArr};function copyVcCookie(){var visitorId=AITag.getCookie(COOKIE_TRW_VISITOR_UID);if(visitorId!=null){var visitorArr=visitorId.split(COOKIE_VAL_SEPERATOR);var count=AITag.getCookie(COOKIE_TRW_COUNT);if(count!=null){visitorArr[1]=parseInt(count);var visitor=visitorArr[0]+COOKIE_VAL_SEPERATOR+visitorArr[1];var known=AITag.getCookie(COOKIE_TRW_IE_EMAIL);if(known!=null){visitor+=COOKIE_VAL_SEPERATOR+1}AITag.setCookie(COOKIE_TRW_VISITOR_UID,visitor,exp_2_year)}}}function copyCpvCookie(){if(!AITag.isNewSession()){var sessionArr=sessionId.split(COOKIE_VAL_SEPERATOR);var count=AITag.getCookie(COOKIE_TRW_CLICK_PER_VISIT);if(count!=null){var splitCount=count.split(SESSION_ID_CLICKS_SEPERATOR);var newCount=parseInt(splitCount[1]);sessionArr[1]=newCount;AITag.setCookie(COOKIE_TRW_SESSION_ID,sessionArr[0]+COOKIE_VAL_SEPERATOR+sessionArr[1],exp_30_minutes)}}}this.isNewVisitor=function(){return newVisitor};this.addVisitorId=function(isKnown){var visitorId=this.getCookie(COOKIE_TRW_VISITOR_UID);if(visitorId==null){newVisitor=true;visitorId=generateUUID()}else{this.deleteCookie(COOKIE_TRW_VISITOR_UID)}var visitorArr=addVC.call(this,visitorId);var visitor=visitorArr[0]+COOKIE_VAL_SEPERATOR+visitorArr[1];if(visitorArr.length>2||isKnown){visitor+=":1"}this.setCookie(COOKIE_TRW_VISITOR_UID,visitor,exp_2_year)};var addToTimelineImp=function(reactionId){if(reactionId!==undefined&&reactionId!=null){var reactions=AITag.getCookie(COOKIE_TRW_IE_CPN);if(reactions!==undefined&&reactions!=null&&reactions.indexOf(reactionId)==-1){AITag.deleteCookie(COOKIE_TRW_IE_CPN);reactions+=COOKIE_VAL_SEPERATOR+reactionId+IMPRESSION_SUFFIX}else{reactions=reactionId+IMPRESSION_SUFFIX}AITag.setCookie(COOKIE_TRW_IE_CPN,reactions,exp_2_year)}};var addToTimelineConv=function(reactionId){if(reactionId!==undefined&&reactionId!=null){var reactions=AITag.getCookie(COOKIE_TRW_IE_CPN);if(reactions!==undefined&&reactions!=null){AITag.deleteCookie(COOKIE_TRW_IE_CPN);if(reactions.indexOf(reactionId)==-1){reactions+=COOKIE_VAL_SEPERATOR+reactionId+CONVERSION_SUFFIX}else{reactions=reactions.replace(reactionId+IMPRESSION_SUFFIX,reactionId+CONVERSION_SUFFIX)}}else{reactions=reactionId+CONVERSION_SUFFIX}AITag.setCookie(COOKIE_TRW_IE_CPN,reactions,exp_2_year)}};this.disableTag=function(iframe){config.disableClick=true;config.disablePoll=true;config.googleAnalytics=false;config.enableSiteCatalyst=false;config.trackAsset=false;config.enableRecommendationBar=false;if(window.rtp){window.rtp.d=true}if(iframe){AITag.updateInitialConfig();var email=getEmail();if(email!==undefined&&email!=null&&email!=""){sendLead(email)}}};this.previewCallback=function(msg,isBindConversion){if(config===undefined||config==null){config={}}if(!window.AIConfig){window.AIConfig={}}if(!window.IeraPreview){window.IeraPreview={}}config.stratup=false;config.disableClick=true;config.disablePoll=true;config.googleAnalytics=false;config.enableSiteCatalyst=false;config.trackAsset=false;config.enableRecommendationBar=false;if(typeof window.IeraPreview.previewShowed!="undefined"&&window.IeraPreview.previewShowed){return}else{window.IeraPreview.previewShowed=true}AITag.updateInitialConfig.apply(AITag);AITag.loadCss.apply(AITag);var afterFullyLoaded=function(){var msgObj=AITag.jQuery.parseJSON(msg);AITag.msgCallback(msgObj,null,msgObj.isBindConversion)};AITag.loadJQuery(afterFullyLoaded)};this.pollMsg=function(callback,showCampaign){if(callback){this.campaignCallback=callback}if(showCampaign){this.showCampaign=showCampaign}if(!this.fullyLoaded){cpq.push(["pollMsg"])}else{var url=AITag.getConfig("gwUrlPrefix")+"/msg?a=2&sid="+getSessionId()+"&aid="+AITag.getConfig("accountId");var mktoTrk=this.getCookie(COOKIE_MARKETO_TOKEN);if(typeof mktoTrk!="undefined"&&mktoTrk!=null&&mktoTrk!=""){url+="&ma="+escape(mktoTrk)}AITag.addDynamicScript(url+"&"+Math.random())}};this.msgCallback=function(msg,requestId,isBindConversion){AITag.log('AITag.loadState = "message callback displayed"');AITag.log("msg: "+msg);AITag.loadState="message callback displayed";try{if(AITag.campaignCallback&&typeof AITag.campaignCallback=="function"){AITag.campaignCallback(msg,requestId,isBindConversion);if(!AITag.showCampaign){return}}}catch(e){}try{if(isBindConversion===undefined&&msg.sticky){campaignStorage.exc(["storeCampaign",msg,requestId])}}catch(e){}var $div=AITag.getReactionDiv(msg);if(typeof $div!="undefined"){AITag.putReactionInDiv.call(AITag,$div,msg.content,msg.reactionId,requestId,msg.targetDiv,msg.fading,isBindConversion);if($div.showDialogCallback){$div.showDialogCallback()}}if((AITag.getConfig("googleAnalytics")||this.getConfig("enableSiteCatalyst"))&&isBindConversion!=false){try{iiq.push(["pushCampaign",msg.reactionId,"Impression",msg.reactionName,msg.segmentName,getSessionId()])}catch(e){}}};this.getReactionDiv=function(msg){var targetDiv=msg.targetDiv;if(targetDiv=="widget"){var widgetContentId=InsighteraWidget.getContentId();if(!InsighteraWidget.isInitilized()){InsighteraWidget.init({widgetPositionTop:((msg.widgetVerticalPosition===undefined)?undefined:msg.widgetVerticalPosition+"%"),widgetPositionSide:msg.widgetSidePosition,tabColor:msg.widgetBackgroundColor,contentColor:msg.widgetBackgroundColor})}$div=AITag.jQuery("#"+widgetContentId);$div.showDialogCallback=function(){InsighteraWidget.show()};return $div}else{if(targetDiv&&targetDiv!=""){if(targetDiv=="redirect"){var uri=AITag.jQuery(msg.content).text().trim();if(uri.indexOf("http://")==-1&&uri.indexOf("https://")==-1){uri="http://"+uri}window.location=uri}return AITag.jQuery("#"+targetDiv)}else{var resizable=msg.resizable!=undefined&&(msg.resizable==true||msg.resizable=="true");var modal=msg.modal!=undefined&&(msg.modal==true||msg.modal=="true");var height=msg.height;var width=msg.width;var dialogShowDuration=msg.dialogOpenDuration;var headerColor=msg.dialogHeaderBackground;var contentBackgroundColor=msg.dialogContentBackground;var title=msg.dialogTitle;return showDialog(msg.dialogType,msg.hPos,msg.vPos,title,modal,resizable,height,width,dialogShowDuration,headerColor,contentBackgroundColor,title,msg.autoWidth)}}};var showDialog=function(dialogType,hPos,vPos,title,isModal,isResizable,height,width,dialogShowDuration,headerColor,contentBackgroundColor,dialogTitle,autoWidth){if(isDialogPresented){return}isDialogPresented=true;if(AITag.getConfig("title")!=null&&AITag.getConfig("title")!=""){title=AITag.getConfig("title")}if(typeof dialogTitle=="undefined"||dialogTitle==null){dialogTitle=""}var $div=addDynamicDiv(title);if(/^\d+$/.test(hPos)){hPos=hPos*1}if(/^\d+$/.test(vPos)){vPos=vPos*1}var hideSide="left";if(!(/^\d+$/.test(hPos))){hideSide=hPos}else{var windowWidth=AITag.jQuery(window).width();if(hPos>windowWidth/2){hideSide="right"}}var dialogArgs=AITag.getConfig("dialogArgs");if(dialogArgs==null){dialogArgs={autoOpen:false,resizable:isResizable,show:"blind",title:dialogTitle,hide:{effect:"drop",direction:hideSide,duration:1000},modal:isModal,minHeight:50,position:[hPos,vPos],dialogClass:"insightera"}}if(height!=undefined){dialogArgs.height=height}if(autoWidth){dialogArgs.width="auto"}else{if(width!=undefined){dialogArgs.width=width}}$div.showDialogCallback=function(){var dialog=$div.dialog(dialogArgs);dialog.parent(".ui-dialog").addClass("insightera-dialog");if(dialogType=="MODERN_TRIM"){dialog.parent(".ui-dialog").addClass("insightera-dialog-modern-trim");dialog.parent(".ui-dialog").find(".ui-widget-header").removeClass("ui-corner-all");if(dialogTitle==""||dialogTitle===undefined||dialogTitle==null){dialog.parent(".ui-dialog").find(".ui-dialog-title").html("")}var imageUrl=cdnSrc+AITag.getConfig("dialogCloseButton");dialog.parent(".ui-dialog").find(".ui-widget-header .ui-icon").css("background-image","url("+imageUrl+")")}else{if(dialogType=="TRANSPARENT"){dialog.parent(".ui-dialog").addClass("insightera-dialog-transparent");var imageUrl=cdnSrc+AITag.getConfig("dialogTransparentButton");dialog.parent(".ui-dialog").find(".ui-widget-header .ui-dialog-titlebar-close").css("background-image","url("+imageUrl+")")}else{if(dialogType=="MODERN_TRIM_2"){dialog.parent(".ui-dialog").addClass("insightera-dialog-modern-trim-2");var imageUrl=cdnSrc+AITag.getConfig("moderntrim2CloseButton");dialog.parent(".ui-dialog").find(".ui-widget-header .ui-dialog-titlebar-close").css("background-image","url("+imageUrl+")")}}}try{AITag.jQuery("body").bind("click",function(e){if(dialog.dialog("isOpen")&&!AITag.jQuery(e.target).is(".ui-dialog, a")&&!AITag.jQuery(e.target).closest(".ui-dialog").length){dialog.dialog("close")}})}catch(e){}dialog.dialog("open");if(typeof headerColor!="undefined"&&headerColor!=null&&headerColor!="#CCCCCC"&&headerColor!="#ccc"&&headerColor!=""&&dialogType!="TRANSPARENT"){AITag.jQuery(".insightera .ui-widget-header").css("background",headerColor)}if(typeof contentBackgroundColor!="undefined"&&contentBackgroundColor!=null&&contentBackgroundColor!="#FFFFFF"&&contentBackgroundColor!="#fff"&&contentBackgroundColor!=""&&dialogType!="TRANSPARENT"){AITag.jQuery(".insightera #trwDialog").css("background",contentBackgroundColor)}var duration;if(typeof dialogShowDuration!="undefined"&&dialogShowDuration!=null){duration=dialogShowDuration}else{duration=AITag.getConfig("dialogCloseTime")}if(!AITag.jQuery.support.opacity){AITag.jQuery(".ui-widget-overlay").css("filter","alpha(opacity=30)")}if(duration!=-1){window.setTimeout(function(){if(dialog.is(":visible")){dialog.dialog("close")}},duration*1000)}};return $div};this.conversionCallback=function(){AITag.log('AITag.loadState = "conversion callback"');AITag.loadState="conversion callback"};var getConversionParams=function(reactionId,requestId){var params="";var visitorId=getVisitorId();if(InsighteraUtil.validateParam(visitorId)){params+="&v="+AITag.escapePercent(visitorId)}if(InsighteraUtil.validateParam(reactionId)){params+="&s="+reactionId}if(InsighteraUtil.validateParam(requestId)){params+="&reqid="+requestId}var sessionId=getSessionId();if(InsighteraUtil.validateParam(sessionId)){params+="&trwsa.sid="+sessionId}return params};this.bindConversion=function(reactionId,requestId,$div){var urlBase=AITag.getConfig("gwUrlPrefix")+"/trw?cmd=1&aid="+AITag.getConfig("accountId")+getConversionParams(reactionId,requestId);var mktoTrk=this.getCookie(COOKIE_MARKETO_TOKEN);if(typeof mktoTrk!="undefined"&&mktoTrk!=null&&mktoTrk!=""){urlBase+="&ma="+escape(mktoTrk)}$div.find("a,:submit,:button").click(function(event){var ajaxUrl=urlBase+"&cb=AITag.conversionCallback";AITag.addDynamicScript(ajaxUrl);try{if(AITag.getConfig("googleAnalytics")||this.getConfig("enableSiteCatalyst")){iiq.push(["pushCampaign",reactionId,"Conversion",undefined,undefined,getSessionId()])}}catch(e){}});$div.find("a").each(function(){var $a=AITag.jQuery(this);var href=$a.attr("href");campaignLinks[href]=true});$div.find("a").click(function(event){var $a=AITag.jQuery(event.currentTarget);var href=$a.attr("href");var first3=href.substr(0,3).toLowerCase();if(first3!="www"&&first3!="htt"){return}var redirectUrl=AITag.getConfig("protocol")+"://"+urlBase+"&rd="+href.replace(/\&/g,"%26").replace(/\+/g,"%2B");try{if(AITag.getConfig("googleAnalytics")||this.getConfig("enableSiteCatalyst")){iiq.push(["pushCampaign",reactionId,"Conversion",undefined,undefined,getSessionId()])}}catch(e){}$a.attr("href",redirectUrl)})};this.putReactionInDiv=function($div,reactionHTMLCode,reactionId,requestId,targetDiv,fading,isBindConversion){if(typeof targetDiv!="undefined"&&targetDiv!=null&&targetDiv!="widget"&&(fading==true||fading=="true")){$div.hide("slow",function(){$div.html(reactionHTMLCode);$div.show(1000);if(typeof isBindConversion==="undefined"||!isBindConversion){AITag.bindConversion(reactionId,requestId,$div)}})}else{$div.html(reactionHTMLCode);if(typeof isBindConversion==="undefined"||!isBindConversion){AITag.bindConversion(reactionId,requestId,$div)}}};this.emailCallback=function(){AITag.deleteCookie(COOKIE_TRW_EMAIL)};this.setEmailsCookie=function(email){};var getLeadParams=function(email){var params="";AITag.addVisitorId();var visitorId=getVisitorId();if(InsighteraUtil.validateParam(visitorId)){params+="&v="+visitorId}if(InsighteraUtil.validateParam(email)){params+="&e="+email}var sessionId=getSessionId();if(InsighteraUtil.validateParam(sessionId)){params+="&trwsa.sid="+sessionId}return params};var sendLead=function(email,callback){var params=AITag.getConfig("gwUrlPrefix")+"/trw?cmd=2&cb=AITag.emailCallback&aid="+AITag.getConfig("accountId")+getLeadParams(email);var mktoTrk=AITag.getCookie(COOKIE_MARKETO_TOKEN);if(typeof mktoTrk!="undefined"&&mktoTrk!=null&&mktoTrk!=""){params+="&ma="+escape(mktoTrk)}AITag.addDynamicScript(params,callback)};this.foundEmail=function(email,callback){AITag.log("AITag.foundEmail("+email+")");AITag.log("AITag.setCookie("+COOKIE_TRW_EMAIL+","+email+")");AITag.setCookie(COOKIE_TRW_EMAIL,email,exp_30_minutes);AITag.addVisitorId(true);sendLead(email,callback)};this.checkForEmailTextFields=function(){if(this.getConfig("captureLeads")){AITag.checkForEmailTextField()}};this.bindEvent=function(element,eventType,eventFunction,extraParameter){AITag.jQuery(element).bind(eventType,eventFunction)};this.checkForEmailTextField=function(){var fieldNames=AITag.getConfig("mailTextField");var fieldButtonMap=AITag.getConfig("fieldButtonMap");var buttonNames=null,buttonName,buttonAttached=false;AITag.log("checkForEmailTextField() field="+fieldName+" button="+buttonNames+")");if(fieldNames){if(typeof fieldNames==="string"){fieldNames=[fieldNames]}for(var i=0;i<fieldNames.length;i++){var fieldName=fieldNames[i];if(fieldName){try{var emailField=AITag.jQuery('input:text[name="'+fieldName+'"]');if(emailField.length==0){emailField=AITag.jQuery('input:text[id="'+fieldName+'"]')}if(emailField.length==0){emailField=AITag.jQuery('input[name="'+fieldName+'"]')}if(emailField.length==0){emailField=AITag.jQuery('input[id="'+fieldName+'"]')}if(emailField.length==0){emailField=AITag.jQuery('input[class|="'+fieldName+'"]')}if(emailField.length==0){AITag.log("field="+fieldName+" not found");continue}}catch(e){if(window.console&&window.console.log&&window.console.log.apply){console.log("fail to find input "+e)}}if(fieldButtonMap!==undefined&&fieldButtonMap!=null){buttonNames=fieldButtonMap[fieldName]}else{buttonNames=AITag.getConfig("mailButton")}if(typeof buttonNames==="string"){buttonNames=[buttonNames]}if(buttonNames){for(var j=0;j<buttonNames.length;j++){buttonName=buttonNames[j];if(buttonName){try{var $buttons=AITag.jQuery("a,:submit,:button");var button=$buttons.filter("#"+buttonName);if(button.length==0){button=$buttons.find('[name="'+buttonName+'"]');if(button.length==0){button=$buttons.find('[value="'+buttonName+'"]');if(button.length==0){$buttons.each(function(index){if(AITag.jQuery(this).text()==buttonName){if(button.length==0){button=AITag.jQuery(this)}else{button.add(this)}}})}}}}catch(e){if(window.console&&window.console.log&&window.console.log.apply){console.log("fail to find input button "+e)}}try{if(buttonName=="mktFrmSubmit"){buttonAttached=true;var events=button.attr("onclick");button.removeAttr("onclick");AITag.bindEvent(button,"click",function(emailField,events){return function(){AITag.log("entering click callback on email button");var email=emailField.val();var func;if(typeof events==="function"){func=events}else{func=new Function(events)}if(typeof email!="undefined"&&email!=""){var callback=function(){try{return func.apply()}catch(e){}var form=emailField.parents("form");form.submit()};AITag.foundEmail(emailField.val(),callback);return false}else{return func.apply()}}}(emailField,events))}else{if(button.length>0){buttonAttached=true;AITag.bindEvent(button,"click",function(emailField){return function(){AITag.log("entering click callback on email button");var email=emailField.val();if(typeof email!="undefined"&&email!=""){AITag.foundEmail(email)}}}(emailField))}}}catch(e){if(window.console&&window.console.log&&window.console.log.apply){console.log("fail to bind click event on button "+e)}}}}}if(!buttonAttached){AITag.bindEvent(emailField.parents("form"),"submit",function(emailField){return function(){AITag.log("entering submit callback on email form");var email=AITag.jQuery(emailField).val();if(typeof email!="undefined"&&email!=""){AITag.foundEmail(email)}}}(emailField))}}}}else{if(AITag.getConfig("getAllEmails")){var forms=AITag.jQuery("form");forms.each(function(){AITag.jQuery(this).submit(function(){AITag.jQuery(this).find(":input").each(function(){var val=AITag.jQuery(this).val();if(EMAIL_REG.test(val)){var email=AITag.jQuery(this).val();if(typeof email!="undefined"&&email!=""){AITag.foundEmail(email)}}else{}})})})}}};this.runAnalyticsIntegration=function(){if(this.getConfig("googleAnalytics")||this.getConfig("enableSiteCatalyst")){this.addDynamicScript(cdnSrc+GA_CDN_PATH,function(){})}};this.state="pre-startup";this.startup=function(){if(!window.AIConfig){window.AIConfig={}}this.updateInitialConfig.apply(AITag);this.setDefaultConfig("accountId",window.TRWAccountId);AITag.log("pollingPerPage = "+this.getConfig("pollingPerPage"));AITag.log('AITag.loadState = "post-startup"');this.loadState="post-startup";if(typeof this.pollInterval=="undefined"||this.pollInterval==null){this.pollInterval=""}if(typeof isDialogPresented=="undefined"||isDialogPresented==null){isDialogPresented=false}this.pollIntervalCounter=0;if(this.getConfig("trackAsset")){this.addAssetCollector.apply(AITag)}try{this.activateRecommendation.apply(AITag)}catch(e){}try{this.runAnalyticsIntegration.apply(AITag)}catch(e){}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj){for(var i=0;i<this.length;i++){if(this[i]==obj){return i}}return -1}}this.go();try{bindMessageEvent()}catch(e){}};this.loadCss=function(){if(!this.getConfig("jqueryUiCssExistsOnPage")){this.addDynamicStyle(cdnSrc+this.getConfig("jQueryUICustomCssPath"))}else{this.addDynamicStyle(cdnSrc+this.getConfig("requiredCssPath"))}};this.sendEvent=function(data){this.addVisitorId();this.createSessionId(true);var query="";var sid=getSessionIdParam();if(sid==""){return}query+="&"+sid;var vid=getVisitorIdParam();if(vid==""){return}query+="&"+vid;if(!data||typeof data!="object"||!data.value){return}if(typeof data.value==="string"){data.value=[data.value]}query+="&rtp.ev="+JSON.stringify(data);var mktoTrk=this.getCookie(COOKIE_MARKETO_TOKEN);var params=this.getConfig("gwUrlPrefix")+"/evt?aid="+this.getConfig("accountId")+query;if(typeof mktoTrk!="undefined"&&mktoTrk!=null&&mktoTrk!=""){params+="&ma="+encodeURIComponent(mktoTrk)}this.addDynamicScript(params)};var addDefaultParams=function(){var params="";var vidParam=getVisitorIdParam();params+=(vidParam!="")?("&"+vidParam):"";var vcParam=getVCParam();params+=(vcParam!="")?("&"+vcParam):"";var knownParam=getKnownParam();params+=(knownParam!="")?("&"+knownParam):"";var sidParam=getSessionIdParam();params+=(sidParam!="")?("&"+sidParam):"";var cpvParam=getCPVParam();params+=(cpvParam!="")?("&"+cpvParam):"";var emailParam=getEmailParam();params+=(emailParam!="")?("&"+emailParam):"";return params};this.sendClick=function(uri,callback,parameter,value){if(!AITag.getConfig("disableClick")){this.addVisitorId();this.createSessionId();var referrerExt="";var ref=document.referrer;if(ref!=undefined&&ref!=""){referrerExt="&ref="+escape(ref)}var uriExt="";if(typeof uri!="undefined"&&uri!=""){uriExt="&uri="+uri}var extraParam="";if(typeof parameter!="undefined"&&typeof value!="undefined"){extraParam="&"+parameter+"="+value}var searchTerms=this.getSearchTerms();var mktoTrk=this.getCookie(COOKIE_MARKETO_TOKEN);var params=this.getConfig("gwUrlPrefix")+"/trw?aid="+this.getConfig("accountId")+referrerExt+addDefaultParams()+uriExt+extraParam;if(typeof mktoTrk!="undefined"&&mktoTrk!=null&&mktoTrk!=""){params+="&ma="+escape(mktoTrk)}if(searchTerms){params+="&"+COOKIE_TRW_SEARCH_TERMS+"="+searchTerms}this.addDynamicScript(params,callback)}};this.cookiesCleanup=function(){copyVcCookie();copyCpvCookie();try{for(var i=0;i<unusedCookies.length;i++){this.deleteCookie(unusedCookies[i])}}catch(e){}};this.main=function(){var uri=encodeURIComponent(window.location.href);this.sendClick(uri);this.loadJQuery(AITag.afterFullyLoaded);this.loadCss.apply(this);AITag.log('AITag.loadState = "post-main"');this.loadState="post-main"};this.loadJQuery=function(afterFullyLoaded){var refThis=this;var isJQLoaded=typeof jQuery!="undefined";var isCorrectJQVersion=isJQLoaded&&jQuery.fn.jquery==this.getConfig("jQueryVersion");if((!(isCorrectJQVersion||AITag.getConfig("useExistingJQuery")))||AITag.getConfig("loadJquery")){function loadJQueryNow(){this.addDynamicScript(this.getConfig("jqueryUrl"),function(){this.afterJQueryLoaded();var url=this.getConfig("jqueryUIUrl");if(this.getConfig("loadOnlyJQueryDialog")){url=cdnSrc+this.getConfig("jQueryUIDialogPath")}this.addDynamicScript(url,function(){jQuery.noConflict(true);afterFullyLoaded.apply(refThis)})})}if(isJQLoaded){if(jQuery.isReady){loadJQueryNow.apply(this)}else{jQuery(document).ready(function(){loadJQueryNow.apply(refThis)})}}else{loadJQueryNow.apply(this)}}else{this.afterJQueryLoaded();if(typeof jQuery.ui!="undefined"&&typeof jQuery.ui.dialog!="undefined"){afterFullyLoaded.apply(refThis)}else{var url=this.getConfig("jqueryUIUrl");if(this.getConfig("loadOnlyJQueryDialog")){url=cdnSrc+this.getConfig("jQueryUIDialogPath")}this.addDynamicScript(url,function(){afterFullyLoaded.apply(refThis)})}}};this.afterJQueryLoaded=function(){AITag.log('AITag.loadState = "loaded jquery"');this.loadState="loaded jquery";this.jQuery=jQuery};this.afterAllJQueryLoaded=function(){this.fullyLoaded=true;try{while(cpq.length){var param=cpq.shift();var method=param.shift();AITag[method].apply(AITag,param)}cpq.push=function(params){var method=params.shift();AITag[method].apply(AITag,params)}}catch(e){}try{if(checkIESupported()){campaignStorage.exc(["init"]);campaignStorage.exc(["showStoredCampaigns"])}}catch(e){}this.checkForEmailTextFields.apply(this);if(this.getConfig("enableRecommendationBar")&&checkIESupported()){setTimeout(function(){ibq.push(["init",{link_color:AITag.getConfig("link_color"),font_family:AITag.getConfig("font_family"),font_size:AITag.getConfig("font_size"),font_color:AITag.getConfig("font_color"),background_color:AITag.getConfig("background_color"),bar_position:AITag.getConfig("bar_position"),bar_tab_position:AITag.getConfig("bar_tab_position")}]);ibq.push(["getREC",getSessionId(),getVisitorId(),getVisitCount()])},this.getConfig("initialDelay"))}if(this.getConfig("googleAnalytics")||this.getConfig("enableSiteCatalyst")){setTimeout(function(){try{iiq.push(["setGWPrefix",AITag.getConfig("gwUrlPrefix")]);iiq.push(["updateConfig",{eGaIndrPush:AITag.getConfig("gaEnableVisitorIndustry"),eGaOrgPush:AITag.getConfig("gaEnableOrganizationtPush"),eGaSgmPush:AITag.getConfig("gaEnableSegmentPush"),eGaCmpPush:AITag.getConfig("gaEnableCampaignPush"),eSIndrPush:AITag.getConfig("sCatEnableVisitorIndustry"),eSOrgPush:AITag.getConfig("sCatEnableVisitorOrganization"),eSSgmPush:AITag.getConfig("sCatEnableSegmentPush"),eSCtaPush:AITag.getConfig("sCatEnableCampaignPush"),gaIndrSlot:AITag.getConfig("gaIndustrySlot"),gaOrgSlot:AITag.getConfig("gaOrganizationSlot"),sIndCC:AITag.getConfig("sCatIndVarNum"),sOrgCC:AITag.getConfig("sCatOrgVarNum"),sSgmCE:AITag.getConfig("sCatSgmEvNum"),sCmpCE:AITag.getConfig("sCatCtaEvNum"),eGA:AITag.getConfig("googleAnalytics"),eSC:AITag.getConfig("enableSiteCatalyst"),sSgmOrgTV:AITag.getConfig("sCatSgmOrgNum"),sSgmIndTV:AITag.getConfig("sCatSgmIndNum"),sCmpOrgTV:AITag.getConfig("sCatCtaOrgNum"),sCmpIndTV:AITag.getConfig("sCatCtaIndNum"),newV:AITag.isNewVisitor(),newS:newSession}]);iiq.push(["pushIndustries",getSessionId()]);iiq.push(["pushSegment"])}catch(e){}},this.getConfig("initialDelay"))}};this.afterFullyLoaded=function(){AITag.log('AITag.loadState = "fully loaded"');this.loadState="fully loaded";var pollDelay=this.getConfig("pollingDelay")*second;this.pollAmount=this.getConfig("pollingPerPage");if(this.pollAmount>0&&!this.getConfig("disablePoll")&&checkIESupported()){setTimeout(function(){if(AITag.pollInterval==""){AITag.startPoll();if(AITag.pollIntervalCounter<AITag.pollAmount){AITag.pollInterval=window.setInterval(AITag.startPoll,pollDelay)}}},this.getConfig("initialDelay"))}if(typeof this.loadCallBack==="function"){this.loadCallBack()}this.afterAllJQueryLoaded.apply(this)};this.startPoll=function(){AITag.pollIntervalCounter++;AITag.loadState="polling";AITag.log('AITag.loadState = "polling"');AITag.pollMsg();if(AITag.pollIntervalCounter>=AITag.pollAmount){clearInterval(AITag.pollInterval);AITag.pollInterval=""}};this.go=function(callback){if(AITag.loadState=="post-startup"){AITag.loadCallBack=callback;AITag.main.apply(AITag)}else{throw"AI logic failed to continue. Load State is "+AITag.state}}};if(window.self!==window.top){if(location&&location!==top.location){AITag.disableTag(true)}}try{var pollCampaign=AITag.extractURLParameter("pollCampaign");if(pollCampaign!=null){AITag.previewCallback(pollCampaign)}}catch(e){}try{window.aiq=window.aiq||[];if(window.aiq){while(aiq.length){var param=aiq.shift();var method=param.shift();AITag[method].apply(AITag,param)}aiq.push=function(a){var b=a.shift();AITag[b].apply(AITag,a)}}}catch(e){}try{window.AIConfig=window.AIConfig||{};var startup=(typeof AITag.getConfig("startup")!="undefined"&&AITag.getConfig("startup")!=null)?AITag.getConfig("startup"):true;var isExcludeUrl=AITag.checkExcludeUrls.apply(AITag);var rtpExists=(window.rtp&&window.rtp.a);if(!startup||isExcludeUrl){AITag.disableTag()}if(!rtpExists&&startup&&!isExcludeUrl){AITag.cookiesCleanup.apply(AITag);AITag.startup.apply(AITag)}}catch(e){console.log("tag error: "+e)}(function(O){var R="widget",J="tab",k="content",c="insightera_widget_button",t="insightera_widget_container",n="insightera_widget_content",g="insightera-widget",x="insightera-widget-",I="insightera-widget-tab",o="insightera-widget-content",C="widget.css",q="http://90d53a0d90598f9cf3a5-dcf1c515f0be6b969f2cc5ae37271723.r87.cf2.rackcdn.com",u="https://42f2433b18538895fc41-dcf1c515f0be6b969f2cc5ae37271723.ssl.cf2.rackcdn.com",d="/black_01.png",L="/black_02.png",a={widgetFontColor:"color",widgetPositionTop:"top",widgetHide:"display",tabColor:"backgroundColor",tabOpacity:"opacity",contentColor:"backgroundColor",contentOpacity:"opacity",contentMinHeight:"min-height",contentPadding:"padding"},K=["widgetTabTooltip","widgetTabText","widgetHide","widgetTabImage","tabHeight","tabWidth"],G=null,r=(("https:"==document.location.protocol)?"https":"http"),b=((r=="http")?q:u),l={widgetFontColor:"white",widgetPositionTop:"50%",widgetPositionSide:"right",widgetHide:false},w={tabColor:"rgba(0,0,0,0.6)",tabImageClosed:b+d,tabImageOpened:b+L,tabTooltip:"",tabHeight:"59px",tabWidth:" 35px"},v={contentColor:"rgba(0,0,0,0.6)",contentMinHeight:"55px",contentPadding:"0.2em"},T=null,p=null,i=null,F=function(){var V=document.createElement("div");V.style.cssText="background-color:rgba(150,255,150,.5)";if(!!~(""+V.style.backgroundColor).indexOf("rgba")){return true}return false},D=function(V){if(V&&V.indexOf("http")==-1&&V.indexOf("https")==-1){V=r+"//"+V}return V},U=function(W){var Y;var V="",Z="";var X=0;if(W.indexOf("rgba")==-1){Y=W.replace("rgb(","").replace(")","").replace(" ","").split(",")}else{Y=W.replace("rgba(","").replace(")","").replace(" ","").split(",")}if(Y.length==3){V+="#ff"}else{V+=Math.floor(Y[3]*255).toString(16);if(V.length==1){V="#0"+V}else{V="#"+V}}while(X<3){Z=(Y[X]*1).toString(16);Z=Z.length==1?"0"+Z:Z;V+=Z;X++}return V},E=function(X,W,V){if(W.addEventListener){W.addEventListener(X,V,true)}else{if(W.attachEvent){W.attachEvent("on"+X,V)}else{W[X]=V}}},h=function(X,V,W){if(X.removeEventListener){X.removeEventListener(V,W,false)}if(X.detachEvent){X.detachEvent("on"+V,W)}},S=function(V){return{width:V.offsetWidth,height:V.offsetHeight}},z=function(X){var V=document.getElementsByTagName("head")[0];var W=document.createElement("link");if(X.indexOf("http")==-1&&X.indexOf("https")==-1){X=r+"://"+X}W.type="text/css";W.href=X;W.rel="stylesheet";V.appendChild(W)},m=function(){if(AITag.jQuery){G=AITag.jQuery}},B=function(){z(b+"/"+C)},H=function(){if(!T){T=document.createElement("div");T.setAttribute("id",c);T.setAttribute("class",g+" "+I+" "+x+l.widgetPositionSide);T.style.display="none";document.body.appendChild(T);E("click",T,function(){if(i.style.display=="none"){M()}else{Q()}})}if(!p){p=document.createElement("div");p.setAttribute("id",n);p.setAttribute("class",o);i=document.createElement("div");i.setAttribute("id",t);i.setAttribute("class",g+" "+x+l.widgetPositionSide);i.appendChild(p);i.style.display="none";document.body.appendChild(i)}},s=function(V){for(property in V){if(V.hasOwnProperty(property)){if(property=="tabImageClosed"||property=="tabImageOpened"){w[property]=D(V[property])}else{if(V[property]!=null&&typeof V[property]!="undefined"){if(l.hasOwnProperty(property)){l[property]=V[property]}else{if(w.hasOwnProperty(property)){w[property]=V[property]}else{if(v.hasOwnProperty(property)){v[property]=V[property]}}}}}}}},y=function(){for(var X in l){if(l.hasOwnProperty(X)){if(K.indexOf(X)==-1){T.style[a[X]]=l[X];i.style[a[X]]=l[X]}}}for(var X in w){if(w.hasOwnProperty(X)){if(K.indexOf(X)==-1){if(X=="tabColor"&&w[X].indexOf("rgba")!=-1&&!F()){continue}T.style[a[X]]=w[X]}}}if(w.tabColor.indexOf("rgba")!=-1&&!F()){var V=U(w.tabColor);T.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr="+V+", endColorstr="+V+")"}for(var X in v){if(v.hasOwnProperty(X)&&K.indexOf(X)==-1){if(X=="contentColor"&&v[X].indexOf("rgba")!=-1&&!F()){continue}i.style[a[X]]=v[X]}}if(v.contentColor.indexOf("rgba")!=-1&&!F()){var V=U(v.contentColor);i.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr="+V+", endColorstr="+V+")"}T.setAttribute("title",w.tabTooltip);if(!l.widgetHide){T.style.display="block"}if(w.tabImageClosed==""||w.tabImageClosed===undefined){T.style.height=w.tabHeight;T.style.width=w.tabWidth}else{var Y,W;if(l.widgetPositionSide=="right"){Y=w.tabImageClosed;W=w.tabImageOpened}else{Y=w.tabImageOpened;W=w.tabImageClosed}T.innerHTML+='<img src="'+Y+'" id="tabImageClosed"/>';if(typeof w.tabImageOpened!="undefined"){T.innerHTML+='<img src="'+W+'" id="tabImageOpened" style="display:none;"/>'}}},f=function(V){B();s(V);H();y()},M=function(){if(G==null){m()}if(p.childElementCount==0){return}var X=S(T);if(X.width==0){setTimeout(function(){X=S(T);if(X.width==0){i.style[l.widgetPositionSide]=w.tabWidth}else{i.style[l.widgetPositionSide]=X.width+"px"}if(G){G("#insightera_widget_container").show(500)}else{i.style.display="block"}},200)}else{i.style[l.widgetPositionSide]=X.width+"px";if(G){G("#insightera_widget_container").show(500)}else{i.style.display="block"}}var V=document.getElementById("tabImageOpened");if(typeof V!="undefined"){var W=document.getElementById("tabImageClosed");V.style.display="block";W.style.display="none"}},Q=function(){if(G){G("#insightera_widget_container").hide(500)}else{i.style.display="none"}var V=document.getElementById("tabImageOpened");if(typeof V!="undefined"){var W=document.getElementById("tabImageClosed");V.style.display="none";W.style.display="block"}},A=function(V){p.innerHTML=V},N=function(V){try{return V()}catch(W){if(O.console&&O.console.log){O.console.log("widget Error: ",W)}}},P=function(){var V=document.getElementsByTagName("body")[0];if(T&&V){V.removeChild(T);T=null}if(i&&V){V.removeChild(i);i=null;p=null}},j={init:function(V){N(function(){f(V)})},injectContent:function(V){N(function(){A(V)})},show:function(){N(function(){M()})},getContentId:function(){return n},isInitilized:function(){if(T&&p&&i){return true}return false},destroy:function(){N(function(){P()})}};if(O.InsighteraWidget===undefined){O.InsighteraWidget=j}})(window);
